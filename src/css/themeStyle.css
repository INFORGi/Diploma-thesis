:root {
    /* Светлая тема */
    --light-primary: #f8fafc;
    --light-secondary: #e8ebf2;
    --light-tertiary: #cdd8eb;
    --light-gray-100: #d9dce2;
    --light-gray-200: #c2c6d4;
    --light-gray-300: #b0b5c3;
    --light-gray-400: #a3a8b7;
    --light-gray-500: #e3e7f0;
    --light-text-primary: #1a1a1a;
    --light-text-secondary: #241b1d;
    --light-accent: #0267fd;
    --light-accent-text: #ffffff;

    /* Тёмная тема */
    --dark-primary: #2d2f33;
    --dark-secondary: #393b40;
    --dark-tertiary: #424449;
    --dark-gray-100: #4b4d52;
    --dark-gray-200: #54565c;
    --dark-gray-300: #5e6066;
    --dark-gray-400: #6b6e75;
    --dark-gray-500: #7d8087;
    --dark-text-primary: #ffffff;
    --dark-text-secondary: #bac5db;
    --dark-accent: #273d5e;
    --dark-accent-text: #ffffff;
    
    /* Общие */
    --border-color: #6b6e75;
    --accent-hover: rgb(206, 222, 255);

    --editable-selected-bg-light: rgba(0, 102, 204, 0.1);
    --editable-selected-border-light: #0066cc;
    --editable-selected-hover-bg-light: rgba(0, 102, 204, 0.15);
    --editable-hover-bg-light: rgba(0, 0, 0, 0.05);
    --editable-hover-border-light: #ccc;
    --editable-dragging-bg-light: rgba(0, 0, 0, 0.05);
    --editable-dragging-border-light: #666;
    
    --editable-selected-bg-dark: rgba(0, 102, 204, 0.2);
    --editable-selected-border-dark: #3399ff;
    --editable-selected-hover-bg-dark: rgba(0, 102, 204, 0.25);
    --editable-hover-bg-dark: rgba(255, 255, 255, 0.05);
    --editable-hover-border-dark: #888;
    --editable-dragging-bg-dark: rgba(255, 255, 255, 0.05);
    --editable-dragging-border-dark: #999;
}

body.light { background-color: var(--light-primary); color: var(--light-text-primary); }
body.dark { background-color: var(--dark-primary); color: var(--dark-text-primary); }

/* Верхняя панель с кнопками */
header.light{ background-color: var(--light-tertiary); }
header.dark{ background-color: var(--dark-secondary); }

/* Основной фон */
main.light { background-color: var(--light-primary); }
main.dark { background-color: var(--dark-primary); }

.window.light { background-color: var(--light-primary); }
.window.dark { background-color: var(--dark-primary); }

.img-card.light { background-color: var(--light-primary); border: 1px solid var(--border-color); }
.img-card.dark { background-color: var(--dark-primary); border: 1px solid var(--border-color); }

/* Кнопки управления окном (свернуть, развернуть, закрыть) */
.button-minimize-style.light{ background-image:url(../image/minimize_window.svg); filter: invert(0); }
.button-minimize-style.dark{ background-image:url(../image/minimize_window.svg); filter: invert(1); }

.button-minimize-style.light:hover{ transform: scale(0.9); }
.button-minimize-style.dark:hover{ transform: scale(0.9); }

.button-maximize-style.light{ background-image:url(../image/expand_window.svg); filter: invert(0); }
.button-maximize-style.dark{ background-image:url(../image/expand_window.svg); filter: invert(1); }

.button-maximize-style.light:hover{ transform: scale(0.9); }
.button-maximize-style.dark:hover{ transform: scale(0.9); }

.button-close-style.light{ background-image:url(../image/close_window.svg); filter: invert(0); } 
.button-close-style.dark{ background-image:url(../image/close_window.svg); filter: invert(1); }

.button-close-style.light:hover{ transform: scale(0.9); }
.button-close-style.dark:hover{ transform: scale(0.9); }

/* Меню с тремя точками */
.style-button-menu.light{ background-color: var(--light-tertiary); color: var(--light-text-primary); }
.style-button-menu.dark{ background-color: var(--dark-secondary); color: var(--dark-text-primary); }

/* Выпадающее меню */
.style-dropdown.light { background-color: var(--light-primary); border: 1px solid var(--border-color); border-radius: 4px; }
.style-dropdown.dark { background-color: var(--dark-primary); border: 1px solid var(--border-color); border-radius: 4px; }

.dropdown-button-style.light { color: var(--light-text-primary); }
.dropdown-button-style.dark { color: var(--dark-text-primary); }

.dropdown-button-style.dark:hover { background-color: var(--dark-gray-100); color: var(--dark-text-primary); }
.dropdown-button-style.light:hover { background-color: var(--light-gray-100); color: var(--light-text-primary); }

/* Левая панель с кнопками создания и открытия карты */
.theme-dropdown.light { background-color: var(--light-primary); border: 1px solid var(--border-color); border-radius: 4px;}
.theme-dropdown.dark { background-color: var(--dark-primary); border: 1px solid var(--border-color); border-radius: 4px; }

/* Область с карточками шаблонов */
.block-history.light { background-color: var(--light-primary); }
.block-history.dark { background-color: var(--dark-primary); }

/* Левая панель с кнопками создания и открытия карты */
.block-menu.light { background-color: var(--light-primary); border-right: 2px solid var(--border-color); } 
.block-menu.dark { background-color: var(--dark-primary); border-right: 2px solid var(--border-color); } 

.button-main-menu.light { 
    background-color: var(--light-gray-300); 
    color: var(--light-text-primary); 
}
.button-main-menu.dark { 
    background-color: var(--dark-gray-200); 
    color: var(--dark-text-primary); 
}

/* Эффект при наведении на кнопки */
.button-transform { border: none; border-radius: 1px; cursor: pointer; transition: 0.2s; }
.button-transform:hover { transform: translateY(-2px); }
.button-transform:active { transform: translateY(0); }

/* Карточка шаблона */
.card.light{ background-color: var(--light-secondary); border: 1px solid var(--dark-gray-400); }
.card.dark { background-color: var(--dark-secondary); border: 1px solid var(--light-gray-500); }

.p-card.light { color: var(--light-text-primary); }
.p-card.dark { color: var(--dark-text-primary); }

.button-card.light { background-color: var(--light-gray-300); color: var(--light-text-primary); }
.button-card.dark { background-color: var(--dark-gray-200); color: var(--dark-text-primary); }

/* Стили для элементов в style-sidebar */
.style-sidebar.dark { background-color: var(--dark-primary); border-left: 1px solid var(--border-color); }
.style-sidebar.light { background-color: var(--light-primary); border-left: 1px solid var(--border-color); }

.style-header.light { background-color: var(--light-tertiary); color: var(--light-text-primary); }
.style-header.dark { background-color: var(--dark-secondary); color: var(--dark-text-primary); }

.style-form.light { background-color: var(--light-primary); }
.style-form.dark { background-color: var(--dark-primary); }

.style-input.light { background-color: var(--light-secondary); color: var(--light-text-primary); border: 1px solid var(--light-gray-500); }
.style-input.dark { background-color: var(--dark-secondary); color: var(--dark-text-primary); border: 1px solid var(--dark-gray-400); }

.select-input.light {background-color: var(--light-secondary); color: var (--light-text-primary); border: 1px solid var(--light-gray-500); }
.select-input.dark { background-color: var(--dark-secondary); color: var(--dark-text-primary); border: 1px solid var(--dark-gray-400); }

.color-input.light { border: 1px solid var(--light-gray-500); }
.color-input.dark { border: 1px solid var(--dark-gray-400); }

label.light { color: var(--light-text-primary); }
label.dark { color: var(--dark-text-primary); }

.map-theme-button.light { background-color: var(--light-gray-300); color: var(--light-text-primary); border: 1px solid var(--light-gray-500); }
.map-theme-button.dark { background-color: var(--dark-gray-200); color: var (--dark-text-primary); border: 1px solid var(--dark-gray-400); }

.map-theme-button.light:hover { background-color: var(--light-gray-100); }
.map-theme-button.dark:hover { background-color: var(--dark-gray-300); }

.checkbox-label.light { color: var(--light-text-primary); }
.checkbox-label.dark { color: var(--dark-text-primary); }

.side-button { background-color: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); border: 1px solid rgba(0, 0, 0, 0.1); }
.side-button svg { color: #333; }
.side-button:hover { background-color: var(--accent-hover); transform: scale(1.1); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
.side-button:hover svg { color: white; }

/* Стили для скроллбаров в WebKit-браузерах */
*::-webkit-scrollbar { width: 12px; height: 12px; }

*::-webkit-scrollbar-track { background: var(--light-gray-300); border-radius: 6px; }

*::-webkit-scrollbar-track.dark { background: var(--dark-gray-200); }

*::-webkit-scrollbar-thumb { background: var(--light-tertiary); border-radius: 6px; }

*::-webkit-scrollbar-thumb.dark { background: var(--dark-secondary); }

*::-webkit-scrollbar-thumb:hover { background: var(--light-gray-200); }

*::-webkit-scrollbar-thumb.dark:hover { background: var(--dark-text-secondary); }

/* Стили для скроллбаров в Firefox */
* { scrollbar-width: thin; scrollbar-color: var(--light-tertiary) var(--light-gray-300); }

.dark { scrollbar-color: var(--dark-secondary) var(--dark-gray-200); }

/* Стили для меню - перемещаем выше других стилей */
.menu.light {
    background-color: var(--light-secondary);
    border-right: 1px solid var(--light-gray-500);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.menu.dark {
    background-color: var(--dark-gray-200);
    border-right: 1px solid var(--dark-gray-400);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

/* Стили для меню */
.menu.light {
    background-color: var(--light-secondary);
    border-right: 1px solid var(--light-gray-500);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.menu.dark {
    background-color: var(--dark-primary);
    border-right: 1px solid var(--dark-gray-400);
    /* Добавляем тень для визуального отделения от фона */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

.menu-section.light {
    background-color: var(--light-gray-100);
    border: 1px solid var(--light-gray-500);
}

.menu-section.dark {
    background-color: var(--dark-gray-100);
    border: 1px solid var(--dark-gray-400);
}

.light .menu-section-toggle {
    background-color: var(--dark-gray-200);
    color: var(--light-tertiary);
}

.dark  .menu-section-toggle{
    background-color: var(--light-gray-100);
    color: var(--dark-secondary);
}

.style-btn.light, 
.action-btn.light {
    background-color: var(--light-gray-300);
    color: var (--light-text-primary);
    border: 1px solid var(--light-gray-500);
}

.style-btn.dark,
.action-btn.dark {
    background-color: var(--dark-gray-200);
    color: var(--dark-text-primary);
    border: 1px solid var(--dark-gray-400);
}

.style-btn.light:hover,
.action-btn.light:hover {
    background-color: var(--light-gray-100);
}

.style-btn.dark:hover,
.action-btn.dark:hover {
    background-color: var(--dark-gray-300);
}

input[type="color"].light,
input[type="number"].light,
input[type="range"].light,
select.light {
    background-color: var(--light-gray-300);
    color: var(--light-text-primary);
    border: 1px solid var(--light-gray-500);
}

input[type="color"].dark,
input[type="number"].dark,
input[type="range"].dark,
select.dark {
    background-color: var(--dark-gray-200);
    color: var(--dark-text-primary);
    border: 1px solid var(--dark-gray-400);
}

/* Стили для переключателя */
.toggle {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px;
    cursor: pointer;
    width: 100%;
}

.toggle-label {
    font-size: 14px;
    margin-right: 10px;
}

.toggle-switch {
    position: relative;
    width: 50px;
    height: 24px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--light-gray-300);
    transition: .4s;
    border-radius: 34px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
} */

.light .toggle-switch input:checked + .slider {
    background-color: var(--light-accent);
}

.light .toggle-switch input:checked + .slider:before {
    transform: translateX(26px);
}

.dark .slider {
    background-color: var(--dark-gray-300);
}

.dark .toggle-switch input:checked + .slider {
    background-color: var(--dark-accent);
}

.dark .toggle-switch input:checked + .slider:before {
    transform: translateX(26px);
}

.toggle:hover .slider {
    box-shadow: 0 0 1px var(--light-accent);
}

[data-editable="true"]:hover {
    background-color: var(--editable-hover-bg-light);
    border-color: var(--editable-hover-border-light);
}

[data-editable="true"].dragging {
    opacity: 0.5;
    background-color: var(--editable-dragging-bg-light);
    border-color: var(--editable-dragging-border-light);
}

[data-editable="true"].selected {
    outline: 2px solid var(--editable-selected-border-light) !important;
    border-radius: 4px;
    background-color: var(--editable-selected-bg-light);
}

[data-editable="true"].selected:hover {
    background-color: var(--editable-selected-hover-bg-light);
}

/* Dark theme overrides */
.dark [data-editable="true"]:hover {
    background-color: var(--editable-hover-bg-dark);
    border-color: var(--editable-hover-border-dark);
}

.dark [data-editable="true"].dragging {
    background-color: var(--editable-dragging-bg-dark);
    border-color: var(--editable-dragging-border-dark);
}

.dark [data-editable="true"].selected {
    outline: 2px solid var(--editable-selected-border-dark) !important;
    background-color: var(--editable-selected-bg-dark);
}

.dark [data-editable="true"].selected:hover {
    background-color: var(--editable-selected-hover-bg-dark);
}

.style-btn {
    border: 1px solid var(--border-color);
}

.dark .block-btn {
    background: var(--dark-primary);
    color: var(--dark-accent-text);
    border: 1px solid var(--border-color);
    transition: all 0.2s;

}

.dark .block-btn:hover {
    background: var(--dark-tertiary);
}

.light .block-btn {
    background: var(--light-primary);
    color: var(--light-text-secondary);
    border: 1px solid var(--border-color);
    transition: all 0.2s;

}

.light .block-btn:hover {
    background: var(--light-tertiary);
}

.dark .block-edit-btn {
    background: var(--dark-primary);
    color: var(--dark-accent-text);
    border: 1px solid var(--border-color);
    transition: all 0.2s;

}

.dark .block-edit-btn:hover {
    background: var(--dark-tertiary);
}

.light .block-edit-btn {
    background: var(--light-primary);
    color: var(--light-text-secondary);
    border: 1px solid var(--border-color);
    transition: all 0.2s;

}

.light .block-edit-btn:hover {
    background: var(--light-tertiary);
}

.content-menu {
    border-left: 1px solid var(--border-color);
}
.style-group input[type="color"] {
    border: 1px solid var(--border-color);
}